{% extends 'base.html' %}

{% block content %}
<div class="container">
    <h1 class="mt-4">Редактировать книгу</h1>
    <form method="POST" class="mt-3">
        <div class="form-group">
            <label for="book_name">Название книги:</label>
            <input type="text" id="book_name" name="book_name" class="form-control" value="{{ book.book_name }}"
                   required>
        </div>

        <div class="form-group">
            <label for="publishing_house_id">Издатель:</label>
            <select id="publishing_house_id" name="publishing_house_id" class="form-control" required>
                {% for publishing_house in publishing_houses %}
                <option value="{{ publishing_house.publishing_house_id }}" {% if publishing_house.publishing_house_id==
                        book.publishing_house_id %}selected{% endif %}>
                    {{ publishing_house.publishing_house_name }}
                </option>
                {% endfor %}
            </select>
        </div>

        <div class="form-group">
            <label for="author_id">Автор:</label>
            <select id="author_id" name="author_id" class="form-control" required>
                {% for author in authors %}
                <option value="{{ author.author_id }}" {% if author.author_id== book.author_id %}selected{% endif %}>
                    {{ author.author_full_name }}
                </option>
                {% endfor %}
            </select>
        </div>

        <div class="form-group">
            <label for="number_of_pages">Количество страниц:</label>
            <input type="number" id="number_of_pages" name="number_of_pages" class="form-control"
                   value="{{ book.number_of_pages }}" required>
        </div>

        <div class="form-group">
            <label for="year_of_publishing">Год издания:</label>
            <input type="number" id="year_of_publishing" name="year_of_publishing" class="form-control"
                   value="{{ book.year_of_publishing }}" required>
        </div>

        <div class="form-group">
            <label for="genre_id">Жанр:</label>
            <select id="genre_id" name="genre_id" class="form-control" required>
                {% for genre in genres %}
                <option value="{{ genre.genre_id }}" {% if genre.genre_id== book.genre_id %}selected{% endif %}>
                    {{ genre.genre }}
                </option>
                {% endfor %}
            </select>
        </div>

        <div class="form-group">
            <label for="total_quantity">Общее количество:</label>
            <input type="number" id="total_quantity" name="total_quantity" class="form-control"
                   value="{{ book.total_quantity }}" required>
        </div>

        <div class="form-group">
            <label for="quantity_in_stock">Количество на складе:</label>
            <input type="number" id="quantity_in_stock" name="quantity_in_stock" class="form-control"
                   value="{{ book.quantity_in_stock }}" required>
        </div>

        <button type="submit" class="btn btn-primary">Сохранить изменения</button>
    </form>
</div>
{% endblock %}
